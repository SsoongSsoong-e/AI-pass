# =============================================================================
# 환경 변수 설정 파일 (Server)
# =============================================================================
# 이 파일은 서버 애플리케이션의 모든 환경 변수를 통합 관리합니다.
# 
# 사용 방법:
# 1. 이 파일을 .env로 복사하세요: cp .env.example .env
# 2. 실제 비밀번호, API 키 등 민감한 정보를 입력하세요
# 3. 개발 환경과 프로덕션 환경에서 다른 값을 사용할 수 있습니다
# 
# 주의사항:
# - .env 파일은 Git에 커밋되지 않습니다 (.gitignore에 포함됨)
# - 실제 비밀번호, API 키 등 민감한 정보를 입력하세요
# =============================================================================

# =============================================================================
# 1. 애플리케이션 환경 설정
# =============================================================================
# 실행 환경: development, production, test
# 개발 환경: npm run dev -> development
# 프로덕션 환경: npm run prod -> production
NODE_ENV=development

# =============================================================================
# 2. PostgreSQL 데이터베이스 설정
# =============================================================================
# 개발 환경: localhost 사용
# 프로덕션 환경 (Docker): postgres (Docker 서비스 이름) 사용
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=ai_pass
DATABASE_USER=ai_pass
DATABASE_PASSWORD=your_database_password_here

# =============================================================================
# 3. MongoDB 설정
# =============================================================================
# 개발 환경: localhost 사용
# 프로덕션 환경 (Docker): mongodb (Docker 서비스 이름) 사용
MONGO_HOST=localhost
MONGO_PORT=27017
MONGO_DATABASE=ai-pass

# =============================================================================
# 4. Google OAuth 설정
# =============================================================================
# Google Cloud Console에서 OAuth 2.0 클라이언트 ID 생성 필요
# 1. https://console.cloud.google.com/ 접속
# 2. 프로젝트 선택 또는 생성
# 3. API 및 서비스 > 사용자 인증 정보 > OAuth 2.0 클라이언트 ID 생성
# 4. 승인된 리디렉션 URI에 콜백 URL 추가
#
# 개발 환경 콜백 URL: http://localhost:5173/api/auth/google/callback
# 프로덕션 환경 콜백 URL: https://your-domain.com/api/auth/google/callback
GOOGLE_CLIENT_ID=your_google_client_id_here
GOOGLE_CLIENT_SECRET=your_google_client_secret_here
GOOGLE_CALLBACK_URL=http://localhost:5173/api/auth/google/callback

# =============================================================================
# 5. AWS S3 설정
# =============================================================================
# S3 버킷에 여권 사진을 저장하기 위한 설정
# 
# IAM 사용자 정보:
# - IAM 사용자 ARN: arn:aws:iam::931646335675:user/namu
# - 버킷 이름: ai-pass
# - 리전: ap-northeast-2 (서울)
#
# 버킷 이름 설정 방법:
# - 방법 1: 버킷 이름만 사용
#   AWS_S3_BUCKET=ai-pass
# - 방법 2: ARN 형식 사용
#   AWS_S3_BUCKET=arn:aws:s3:::ai-pass
#
# AWS 자격 증명 발급 방법:
# 1. AWS Console > IAM > 사용자 > namu 선택
# 2. 보안 자격 증명 탭
# 3. 액세스 키 만들기
# 4. Access Key ID와 Secret Access Key 복사
AWS_S3_BUCKET=ai-pass
AWS_REGION=ap-northeast-2
AWS_ACCESS_KEY_ID=your_aws_access_key_id_here
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key_here

# =============================================================================
# 6. 세션 설정
# =============================================================================
# 세션 암호화를 위한 시크릿 키
# 프로덕션 환경에서는 반드시 강력한 랜덤 문자열로 설정해야 합니다
# 예: openssl rand -base64 32 명령어로 생성
SESSION_SECRET=your_session_secret_here

# 세션 만료 시간 (초 단위)
# 기본값: 1800 (30분)
# 사용자가 활동 중일 때는 자동으로 연장됩니다 (Rolling Session)
SESSION_MAX_AGE=1800

# =============================================================================
# 7. Admin 이메일 설정
# =============================================================================
# Admin 역할을 가진 사용자의 이메일 목록
# 쉼표로 구분하여 여러 이메일을 지정할 수 있습니다
# 이 이메일로 OAuth 로그인하면 자동으로 Admin 역할이 부여됩니다
# 예: ADMIN_EMAILS=admin@example.com,another-admin@example.com
ADMIN_EMAILS=admin@example.com,another-admin@example.com

# =============================================================================
# 8. 프론트엔드 URL 설정
# =============================================================================
# 개발 환경: http://localhost:5173
# 프로덕션 환경: https://your-domain.com
FRONTEND_URL=http://localhost:5173

# =============================================================================
# 9. AI 모델 서버 URL 설정
# =============================================================================
# 개발 환경: http://localhost:5001
# 프로덕션 환경 (Docker): http://host.docker.internal:5001 (Mac/Windows)
# 프로덕션 환경 (Docker Linux): http://172.17.0.1:5001
MODEL_SERVER_URL=http://localhost:5001
